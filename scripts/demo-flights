create kafka-config

k1

kafka {
  bootstrap.servers="localhost:9092"
  key.serializer = "org.apache.kafka.common.serialization.StringSerializer"
  value.serializer = "org.apache.kafka.common.serialization.StringSerializer"
}


create twirl-template

t1

@import com.stratio.khermes.helpers.faker.Faker
@(faker: Faker)
@defining(faker.Flights.flight) { case (randomFlight) => {
    "Year": "@(randomFlight.Year)",
    "UniqueCarrier": "@(randomFlight.UniqueCarrier)",
    "FlightNum": "@(randomFlight.FlightNum)",
    "AirTime": "@(randomFlight.AirTime)",
    "ArrDelay": "@(randomFlight.ArrDelay)",
    "DepDelay": "@(randomFlight.DepDelay)",
    "Origin": "@(randomFlight.Origin)",
    "Dest": "@(randomFlight.Dest)",
    "Distance": "@(randomFlight.Distance)",
    "Cancelled": "@(randomFlight.Cancelled)",
    "CancellationCode": "@(randomFlight.CancellationCode)",
    "Diverted": "@(randomFlight.Diverted)",
    "CarrierDelay": "@(randomFlight.CarrierDelay)",
    "WeatherDelay": "@(randomFlight.WeatherDelay)",
    "NASDelay": "@(randomFlight.NASDelay)",
    "SecurityDelay": "@(randomFlight.SecurityDelay)",
    "LateAircraftDelay": "@(randomFlight.LateAircraftDelay)"
  }}


create generator-config

g1

khermes {
  templates-path = "/tmp/khermes/templates"
  topic = "khermes"
  template-name = "khermestemplate"
  i18n = "ALL-SMALL"

  timeout-rules {
    number-of-events: 100
    duration: 10 seconds
  }

}


************* ERROR EN CLUSTER ************


@import scala.util.Random
@import com.stratio.khermes.helpers.faker.Faker
@import com.stratio.khermes.helpers.faker.generators.Positive

@(faker: Faker)
@defining(faker.Flights.flight) { case (randomFlight) =>
  {
    "Year": "@(randomFlight.Year)",
    "Month": "@(randomFlight.Month)",
    "DayofMonth": "@(randomFlight.DayofMonth)",
    "DayOfWeek": "@(randomFlight.DayOfWeek)",
    "DepTime": "@(randomFlight.DepTime)",
    "CRSDepTime": "@(randomFlight.CRSDepTime)",
    "ArrTime": "@(randomFlight.ArrTime)",
    "CRSArrTime": "@(randomFlight.CRSArrTime)",
    "UniqueCarrier": "@(randomFlight.UniqueCarrier)",
    "FlightNum": "@(randomFlight.FlightNum)",
    "TailNum": "@(randomFlight.TailNum)",
    "ActualElapsedTime": "@(randomFlight.ActualElapsedTime)",
    "CRSElapsedTime": "@(randomFlight.CRSElapsedTime)",
    "AirTime": "@(randomFlight.AirTime)",
    "ArrDelay": "@(randomFlight.ArrDelay)",
    "DepDelay": "@(randomFlight.DepDelay)",
    "Origin": "@(randomFlight.Origin)",
    "Dest": "@(randomFlight.Dest)",
    "Distance": "@(randomFlight.Distance)",
    "TaxiIn": "@(randomFlight.TaxiIn)",
    "TaxiOut": "@(randomFlight.TaxiOut)",
    "Cancelled": "@(randomFlight.Cancelled)",
    "CancellationCode": "@(randomFlight.CancellationCode)",
    "Diverted": "@(randomFlight.Diverted)",
    "CarrierDelay": "@(randomFlight.CarrierDelay)",
    "WeatherDelay": "@(randomFlight.WeatherDelay)",
    "NASDelay": "@(randomFlight.NASDelay)",
    "SecurityDelay": "@(randomFlight.SecurityDelay)",
    "LateAircraftDelay": "@(randomFlight.LateAircraftDelay)"
  }
}